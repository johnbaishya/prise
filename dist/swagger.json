{ "openapi": "3.0.0", "info": { "title": "Prise API", "version": "1.0.0", "description": "REST API documentation for the Prise project." }, "components": { "securitySchemes": { "bearerAuth": { "type": "https", "scheme": "bearer", "bearerFormat": "JWT" } } }, "servers": [{ "url": "https://prise.vercel.app/", "description": "Prise Api" }], "tags": [{ "name": "Common", "description": "Coomon api  that will be used by other modules. for example, routes related to user, company, authentication, etc " }, { "name": "ClockMe", "description": "For tracking the working hours of employee and managing human resource to work sites." }], "host": "https://prise.vercel.app/", "basePath": "/api", "schemes": ["http", "https"], "paths": { "/api/clockme/site/:id/clock-in": { "get": { "security": [{ "bearerAuth": [] }], "tags": ["ClockMe"], "summary": "clock_in", "description": "api for when user clock_in at a working site. it creates a new clock entry", "responses": { "201": { "description": "Clock Started ." }, "401": { "description": "unauthorized" }, "500": { "description": "some error." } } } }, "/api/clockme/clock/:id": { "put": { "security": [{ "bearerAuth": [] }], "tags": ["ClockMe"], "summary": "update a clock", "description": "create a schedule for a user (worker) to work at a certain site.", "requestBody": { "required": true, "content": { "application/json": { "schema": { "type": "object", "properties": { "action": { "type": "string", "enum": ["clock_out", "break_start", "break_end"] } } } } } }, "responses": { "200": { "description": "Schedule." }, "401": { "description": "Invalid credentials." }, "500": { "description": "something wrong" } } } }, "/api/clockme/site": { "post": { "security": [{ "bearerAuth": [] }], "tags": ["ClockMe"], "summary": "Add Site", "description": "create a new site.", "requestBody": { "required": true, "content": { "application/json": { "schema": { "type": "object", "properties": { "company_id": { "type": "string" }, "description": { "type": "string" }, "address": { "type": "string" }, "lat": { "type": "string" }, "lon": { "type": "string" } }, "required": ["address"] } } } }, "responses": { "200": { "description": "created Site." }, "401": { "description": "Invalid credentials." }, "500": { "description": "something wrong" } } }, "get": { "security": [{ "bearerAuth": [] }], "tags": ["ClockMe"], "summary": "Get user Sites", "description": "to get all the sites created by current user.", "responses": { "200": { "description": "site[]." }, "401": { "description": "Invalid credentials." }, "500": { "description": "something wrong" } } } }, "/api/clockme/site/:id": { "put": { "security": [{ "bearerAuth": [] }], "tags": ["ClockMe"], "summary": "Update Site", "description": "update the site.", "requestBody": { "content": { "application/json": { "schema": { "type": "object", "properties": { "company_id": { "type": "string" }, "description": { "type": "string" }, "address": { "type": "string" }, "lat": { "type": "string" }, "lon": { "type": "string" } } } } } }, "responses": { "200": { "description": "updated Site." }, "401": { "description": "Invalid credentials." }, "500": { "description": "something wrong" } } }, "delete": { "security": [{ "bearerAuth": [] }], "tags": ["ClockMe"], "summary": "Delete Site", "description": "delete the site.", "responses": { "200": { "description": "created Site." }, "401": { "description": "Invalid credentials." }, "500": { "description": "something wrong" } } }, "get": { "security": [{ "bearerAuth": [] }], "tags": ["ClockMe"], "summary": "Get Site Detail", "description": "to get the details of a site.", "responses": { "200": { "description": "site." }, "401": { "description": "Invalid credentials." }, "500": { "description": "something wrong" } } } }, "/api/clockme/company/:id/site": { "get": { "security": [{ "bearerAuth": [] }], "tags": ["ClockMe"], "summary": "Get Sites by Company", "description": "to get all the sites of a certain company.", "responses": { "200": { "description": "site[]." }, "401": { "description": "Invalid credentials." }, "500": { "description": "something wrong" } } } }, "/api/clockme/site/:id/gallery": { "post": { "security": [{ "bearerAuth": [] }], "tags": ["ClockMe"], "summary": "add site Gallery", "description": "Add images to gallery of site.", "requestBody": { "required": true, "content": { "multipart/form-data": { "schema": { "type": "object", "properties": { "images": { "type": "array", "items": { "type": "string", "format": "binary" } } } } } } }, "responses": { "200": { "description": "gallery[]." }, "401": { "description": "Invalid credentials." }, "500": { "description": "something wrong" } } }, "get": { "security": [{ "bearerAuth": [] }], "tags": ["ClockMe"], "summary": "get Site's gallery", "description": "get all the images of site's gallery.", "responses": { "200": { "description": "gallery[]." }, "401": { "description": "Invalid credentials." }, "500": { "description": "something wrong" } } } }, "/api/clockme/site/gallery/:id": { "delete": { "security": [{ "bearerAuth": [] }], "tags": ["ClockMe"], "summary": "delete site gallery", "description": "delete an image from the site's gallery", "responses": { "200": { "description": "image deleted successfully." }, "401": { "description": "unauthorized." }, "500": { "description": "something wrong" } } } }, "/api/clockme/user-site-assign": { "post": { "security": [{ "bearerAuth": [] }], "tags": ["ClockMe"], "summary": "Assign User to a Site", "description": "assign a user to a certain site.", "requestBody": { "required": true, "content": { "application/json": { "schema": { "type": "object", "properties": { "user_id": { "type": "string" }, "clock_me_site_id": { "type": "string" }, "status": { "type": "string", "enum": ["active", "inactive", "cancelled", "completed"] } }, "required": ["user_id", "clock_me_site_id"] } } } }, "responses": { "200": { "description": "assigned user site." }, "401": { "description": "Invalid credentials." }, "500": { "description": "something wrong" } } }, "get": { "security": [{ "bearerAuth": [] }], "tags": ["ClockMe"], "summary": "get user sites assigned", "description": "get all user site assigned of current user.", "responses": { "200": { "description": "assigned user site[]." }, "401": { "description": "Invalid credentials." }, "500": { "description": "something wrong" } } } }, "/api/clockme/user-site-assign/:id": { "put": { "security": [{ "bearerAuth": [] }], "tags": ["ClockMe"], "summary": "Update user site assign", "description": "update user site assign.", "requestBody": { "required": true, "content": { "application/json": { "schema": { "type": "object", "properties": { "status": { "type": "string", "enum": ["active", "inactive", "cancelled", "completed"] } }, "required": ["status"] } } } }, "responses": { "200": { "description": "updated assigned user site." }, "401": { "description": "Invalid credentials." }, "500": { "description": "something wrong" } } }, "delete": { "security": [{ "bearerAuth": [] }], "tags": ["ClockMe"], "summary": "delete user site assign", "description": "delete a user site assign.", "responses": { "200": { "description": "user site assign deleted." }, "401": { "description": "Invalid credentials." }, "500": { "description": "something wrong" } } } }, "/api/clockme/site/:id/user-site-assign": { "get": { "security": [{ "bearerAuth": [] }], "tags": ["ClockMe"], "summary": "get user sites assigned by site", "description": "get all user site assigned of a certain site.", "responses": { "200": { "description": "assigned user site[]." }, "401": { "description": "Invalid credentials." }, "500": { "description": "something wrong" } } } }, "/api/clockme/schedule": { "post": { "security": [{ "bearerAuth": [] }], "tags": ["ClockMe"], "summary": "Create Schedule", "description": "create a schedule for a user (worker) to work at a certain site.", "requestBody": { "required": true, "content": { "application/json": { "schema": { "type": "object", "properties": { "clock_me_user_site_assigned_id": { "type": "string" }, "time_Schedule": { "type": "array", "items": { "type": "object", "properties": { "clock_in": { "type": "string", "format": "date-time" }, "clock_out": { "type": "string", "format": "date-time" }, "break_duration": { "type": "number", "description": "Duration in minutes." } } } } }, "required": ["clock_me_user_site_assigned_id", "time_Schedule"] } } } }, "responses": { "200": { "description": "Schedule." }, "401": { "description": "Invalid credentials." }, "500": { "description": "something wrong" } } } }, "/api/clockme/schedule/:id": { "put": { "security": [{ "bearerAuth": [] }], "tags": ["ClockMe"], "summary": "update Schedule", "description": "update a schedule.", "requestBody": { "required": true, "content": { "application/json": { "schema": { "type": "object", "properties": { "time_Schedule": { "type": "array", "items": { "type": "object", "properties": { "clock_in": { "type": "string", "format": "date-time" }, "clock_out": { "type": "string", "format": "date-time" }, "break_duration": { "type": "number", "description": "Duration in minutes." } } } } }, "required": ["time_Schedule"] } } } }, "responses": { "200": { "description": "updated schedule." }, "401": { "description": "Invalid credentials." }, "500": { "description": "something wrong" } } }, "get": { "security": [{ "bearerAuth": [] }], "tags": ["ClockMe"], "summary": "get Schedule details", "description": "get details of a certain schedule", "responses": { "200": { "description": "schedule." }, "401": { "description": "Invalid credentials." }, "500": { "description": "something wrong" } } }, "delete": { "security": [{ "bearerAuth": [] }], "tags": ["ClockMe"], "summary": "delete Schedule", "description": "delete a certain schedule", "responses": { "200": { "description": "schedule deleted successfully." }, "401": { "description": "Invalid credentials." }, "500": { "description": "something wrong" } } } }, "/api/clockme/user-site-assign/:id/schedule": { "get": { "security": [{ "bearerAuth": [] }], "tags": ["ClockMe"], "summary": "get Schedules by user site assign id", "description": "get Schedules by user site assign id", "responses": { "200": { "description": "schedule[]." }, "401": { "description": "Invalid credentials." }, "500": { "description": "something wrong" } } } }, "/api/user/register": { "post": { "tags": ["Common"], "summary": "User Register", "description": "Register a user and return created user with token.", "requestBody": { "required": true, "content": { "application/json": { "schema": { "type": "object", "properties": { "first_name": { "type": "string" }, "last_name": { "type": "string" }, "email": { "type": "string" }, "password": { "type": "string" } }, "required": ["email", "password"] } } } }, "responses": { "201": { "description": "created user with token." }, "500": { "description": "some error." } } } }, "/api/user/login": { "post": { "operationId": "userLogin", "tags": ["Common"], "summary": "User login", "description": "Authenticate an employee and return a session token.", "requestBody": { "required": true, "content": { "application/json": { "schema": { "type": "object", "properties": { "email": { "type": "string" }, "password": { "type": "string" } }, "required": ["email", "password"] } } } }, "responses": { "200": { "description": "user detail with token." }, "401": { "description": "Invalid credentials." } } } }, "/api/user/profile": { "put": { "security": [{ "bearerAuth": [] }], "operationId": "update user profile", "tags": ["Common"], "summary": "User profile update", "description": "update the current user profile.", "requestBody": { "required": true, "content": { "application/json": { "schema": { "type": "object", "properties": { "first_name": { "type": "string" }, "last_name": { "type": "string" } } } } } }, "responses": { "200": { "description": "updated user." }, "401": { "description": "Invalid credentials." } } }, "get": { "security": [{ "bearerAuth": [] }], "tags": ["Common"], "summary": "user profile", "description": "get the current user profile.", "responses": { "200": { "description": "user." }, "401": { "description": "Invalid credentials." } } } }, "/api/user/profile-pic": { "post": { "security": [{ "bearerAuth": [] }], "tags": ["Common"], "summary": "User profile picture update", "description": "update the current user profile picture.", "requestBody": { "required": true, "content": { "multipart/form-data": { "schema": { "type": "object", "properties": { "image": { "type": "string", "format": "binary" } } } } } }, "responses": { "200": { "description": "updated user." }, "401": { "description": "Invalid credentials." } } } }, "/api/user/verify-token": { "get": { "security": [{ "bearerAuth": [] }], "tags": ["Common"], "summary": "user authentication status", "description": "check if the provided bearer token is valid", "responses": { "200": { "description": "token is valid." }, "401": { "description": "Invalid token." } } } }, "/api/company": { "post": { "security": [{ "bearerAuth": [] }], "tags": ["Common"], "summary": "Add Company", "description": "create a new company.", "requestBody": { "required": true, "content": { "application/json": { "schema": { "type": "object", "properties": { "name": { "type": "string", "required": true }, "description": { "type": "string" }, "email": { "type": "string" }, "address": { "type": "string" }, "lat": { "type": "string" }, "lon": { "type": "string" }, "phone": { "type": "string" }, "category": { "type": "string" } }, "required": ["name", "category"] } } } }, "responses": { "200": { "description": "created company." }, "401": { "description": "Invalid credentials." }, "500": { "description": "something wrong" } } }, "get": { "security": [{ "bearerAuth": [] }], "tags": ["Common"], "summary": "list Company", "description": "list all the companies created by user.", "responses": { "200": { "description": "company[]." }, "401": { "description": "Invalid credentials." }, "500": { "description": "something wrong" } } } }, "/api/company/:id": { "put": { "security": [{ "bearerAuth": [] }], "tags": ["Common"], "summary": "update Company", "description": "update a company.", "requestBody": { "required": true, "content": { "application/json": { "schema": { "type": "object", "properties": { "name": { "type": "string" }, "description": { "type": "string" }, "email": { "type": "string" }, "address": { "type": "string" }, "lat": { "type": "string" }, "lon": { "type": "string" }, "phone": { "type": "string" }, "category": { "type": "string" } } } } } }, "responses": { "200": { "description": "updated company." }, "401": { "description": "Invalid credentials." }, "500": { "description": "something wrong" } } }, "delete": { "security": [{ "bearerAuth": [] }], "tags": ["Common"], "summary": "delete Company", "description": "remove a company.", "responses": { "200": { "description": "company deleted successsfully." }, "401": { "description": "Invalid credentials." }, "500": { "description": "something wrong" } } }, "get": { "security": [{ "bearerAuth": [] }], "tags": ["Common"], "summary": "get Company detail", "description": "get the description of the company.", "responses": { "200": { "description": "company." }, "401": { "description": "Invalid credentials." }, "500": { "description": "something wrong" } } } }, "/api/company/:id/gallery": { "post": { "security": [{ "bearerAuth": [] }], "tags": ["Common"], "summary": "add Company Gallery", "description": "Add images to gallery of company.", "requestBody": { "required": true, "content": { "multipart/form-data": { "schema": { "type": "object", "properties": { "images": { "type": "array", "items": { "type": "string", "format": "binary" } } } } } } }, "responses": { "200": { "description": "gallery[]." }, "401": { "description": "Invalid credentials." }, "500": { "description": "something wrong" } } }, "get": { "security": [{ "bearerAuth": [] }], "tags": ["Common"], "summary": "get Company gallery", "description": "get all the images of company's gallery.", "responses": { "200": { "description": "gallery[]." }, "401": { "description": "Invalid credentials." }, "500": { "description": "something wrong" } } } }, "/api/company/gallery/:id": { "delete": { "security": [{ "bearerAuth": [] }], "tags": ["Common"], "summary": "delete Company gallery", "description": "delete an image from the company gallery", "responses": { "200": { "description": "image deleted successfully." }, "401": { "description": "unauthorized." }, "500": { "description": "something wrong" } } } }, "/api/company/:id/profile-pic": { "post": { "security": [{ "bearerAuth": [] }], "tags": ["Common"], "summary": "Company profile picture update", "description": "update the Company's profile picture.", "requestBody": { "required": true, "content": { "multipart/form-data": { "schema": { "type": "object", "properties": { "image": { "type": "string", "format": "binary" } } } } } }, "responses": { "200": { "description": "updated user." }, "401": { "description": "Invalid credentials." } } } } } }
